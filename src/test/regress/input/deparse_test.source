---
--- DEPARSE_TEST
---

-- create global objects used throughout the tests
create tablespace testtablespace location '@testtablespace@';
create role clstr_user;
create role regressgroup1;
create role regressgroup2;
create role regression_bob;
create role regression_group;
create role regression_user1;
create role regression_user2;
create role regression_user3;
create role regression_user;
create role regresslo;
create role regress_rol_lock1;
create role regress_test_indirect;
create role regress_test_role;
create role regress_test_role_super;
create role regressuser1;
create role regressuser2;
create role regressuser3;
create role regressuser4;
create role regressuser5;
create role regtest_alter_user1;
create role regtest_alter_user2;
create role regtest_alter_user3;
create role regtest_unpriv_user;
create role rls_regress_group1;
create role rls_regress_user0;
create role rls_regress_user1;
create role schemauser2;
create role seclabel_user1;
create role seclabel_user2;
create role view_user2;

\pset format unaligned
\pset tuples_only
\o ./sql/deparse_dump.sql
SELECT command || ';' FROM deparse.deparse_test_commands ORDER BY lsn, ord;
\! @abs_builddir@/../../bin/psql/psql --dbname=@deparse_test_db@ -e < ./sql/deparse_dump.sql
