<chapter id="functions" xreflabel="SQL functions">
 <title>Functions</title>
 <indexterm>
  <primary>Functions</primary>
 </indexterm>

 <sect1 id="functions-node-mgmt">
  <title>Node management functions</title>
  <para>
   The following functions exist to manage nodes:

   <table>
    <title>Node management functions</title>
    <tgroup cols="4">
     <thead>
      <row>
       <entry>&udr;/&bdr;</entry>
       <entry>Function</entry>
       <entry>Return Type</entry>
       <entry>Description</entry>
      </row>
     </thead>
     <tbody>

      <row>
       <entry>&udr;</entry>
       <entry>
        <indexterm>
         <primary>bdr.bdr_subscribe_node</primary>
        </indexterm>
        <literal><function>bdr.bdr_subscribe_node(<replaceable>local_node_name</replaceable>, <replaceable>subscribe_to_dsn</replaceable>, <replaceable>node_local_dsn</replaceable>, <replaceable>apply_delay integer DEFAULT NULL</replaceable>, <replaceable>replication_sets text[] DEFAULT ARRAY['default']</replaceable>)</function></literal>
       </entry>
       <entry>void</entry>
       <entry>Subscribes to changes made on another node</entry>
      </row>

      <row>
       <entry>&bdr;</entry>
       <entry>
        <indexterm>
         <primary>bdr.bdr_group_create</primary>
        </indexterm>
        <literal><function>bdr.bdr_group_create(<replaceable>local_node_name</replaceable>, <replaceable>node_external_dsn</replaceable>, <replaceable>node_local_dsn DEFAULT NULL</replaceable>, <replaceable>apply_delay integer DEFAULT NULL</replaceable>, <replaceable>replication_sets text[] DEFAULT ARRAY['default']</replaceable>)</function></literal>
       </entry>
       <entry>void</entry>
       <entry>
        Create the first node in a future cluster of bdr nodes.
       </entry>
      </row>

      <row>
       <entry>&bdr;</entry>
       <entry>
        <indexterm>
         <primary>bdr.bdr_group_join</primary>
        </indexterm>
        <literal><function>bdr.bdr_group_join(<replaceable>local_node_name</replaceable>, <replaceable>node_external_dsn</replaceable>, <replaceable>join_using_dsn</replaceable>, <replaceable>node_local_dsn DEFAULT NULL</replaceable>, <replaceable>apply_delay integer DEFAULT NULL</replaceable>, <replaceable>replication_sets text[] DEFAULT ARRAY['default']</replaceable>)</function></literal>
       </entry>
       <entry>void</entry>
       <entry>
        Join this database to a cluster of existing bdr nodes. This
        will initiate connections to and from all nother nodes.
       </entry>
      </row>

      <row>
       <entry>&bdr;</entry>
       <entry>
        <indexterm>
         <primary>bdr.bdr_part_by_node_names</primary>
        </indexterm>
        <literal><function>bdr.bdr_part_by_node_names(<replaceable>p_nodes text[]</replaceable>)</function></literal>
       </entry>
       <entry>void</entry>
       <entry>
        Removes all the nodes - identified by the node names in the
        array. All the remaining nodes in the cluster have to be
        reachable for this to succeed.
       </entry>
      </row>

      <row>
       <entry>&bdr;/&udr;</entry>
       <entry>
        <indexterm>
         <primary>bdr.bdr_node_join_wait_for_ready</primary>
        </indexterm>
        <literal><function>bdr.bdr_node_join_wait_for_ready()</function></literal>
       </entry>
       <entry>void</entry>
       <entry>
        Wait till all in-progress node joins have completed.
       </entry>
      </row>

     </tbody>
    </tgroup>
   </table>

  </para>
 </sect1>
</chapter>
